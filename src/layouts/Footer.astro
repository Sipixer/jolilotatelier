---
import LogoIcon from '../components/Icons/LogoIcon.astro';

import InstragramIcon from '../components/Icons/InstragramIcon.astro';
import SubFooter from './SubFooter.astro';
---

<div>
  <div class="grid w-full items-center bg-orange pb-10 md:pt-10 pt-20 text-white/80 md:grid-cols-2">
    <div class="relative flex h-full items-center justify-center max-md:row-start-2">
      <a href="/" aria-label="Retour a la page d'accueil">
        <LogoIcon classes="max-w-[190px] w-[190px] min-w-[190px] py-20" /></a
      >
      <div class="absolute bottom-0 translate-y-3/4 rounded-full bg-orange text-white">
        <a
          href="https://www.instagram.com/jolilot.atelier/"
          aria-label="Ma page instagram @jolilot.atelier"
          target="_blank"
          referrerpolicy="no-referrer"
        >
          <InstragramIcon />
        </a>
      </div>
    </div>

    <div class="flex justify-center gap-8 xl:max-w-2xl flex-wrap max-md:items-center max-md:text-center">
      <div class="flex select-none flex-col gap-3 w-[200px]">
        <p class="font-larken">LES SERVICES</p>
        <a href="/services/supports-imprimes" class="hover:text-marron_fonce">SUPPORT IMPRIMÉS</a>
        <a href="/services/site-web" class="hover:text-marron_fonce">SITE WEB VITRINE</a>
        <a href="/services/identite-visuelle" class="hover:text-marron_fonce">IDENTITÉ VISUELLE</a>
        <a href="/services/contenu-digital" class="hover:text-marron_fonce">CONTENU DIGITAL</a>
        <a href="/services/conseil-suivi" class="hover:text-marron_fonce">CONSEIL & SUIVI</a>
      </div>
      <div class="flex flex-col gap-3 select-none w-[200px]">
        <p class="font-larken">EN SAVOIR PLUS</p>
        <a href="/a-propos" class="hover:text-marron_fonce">À PROPOS</a>
        <a
          href="https://www.instagram.com/jolilot.atelier/"
          aria-label="Ma page instagram @jolilot.atelier"
          target="_blank"
          referrerpolicy="no-referrer"
          class="hover:text-marron_fonce">RÉALISATIONS</a
        >
        <a href="/contact" class="hover:text-marron_fonce">CONTACT</a>
      </div>
      <div class="flex flex-col gap-3 w-[200px]">
        <p class="font-larken">HORAIRES</p>
        <p>Du lundi au vendredi</p>
        <p>9:00 - 12:00 | 14:00 - 18:00</p>
      </div>
    </div>
  </div>
  <SubFooter />
</div>

<style>
  .progress-footer {
    width: 0%;
    height: 1px;
  }
  .progress-footer.animate {
    animation: progress-footer 2s ease-in-out forwards;
  }
  @keyframes progress-footer {
    0% {
      width: 0%;
    }
    100% {
      width: 100%;
    }
  }
</style>

<script>
  // Fonction de rappel pour l'intersection
  function handleIntersection(entries: IntersectionObserverEntry[], observer: IntersectionObserver) {
    entries.forEach((entry) => {
      if (entry.isIntersecting) {
        entry.target.classList.add('animate');
        observer.unobserve(entry.target);
      }
    });
  }

  // Créer l'instance de l'observateur
  const observer = new IntersectionObserver(handleIntersection);

  // Sélectionner l'élément cible
  const element = document.querySelector('.progress-footer');

  // Observer l'élément cible
  if (element) {
    observer.observe(element);
  }
</script>
