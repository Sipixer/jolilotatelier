---
import OneService, { type Service } from './subcomponents/OneService.astro';
import SubTitle from './subcomponents/SubTitle.astro';
const services: Service[] = [
  {
    title: 'SUPPORTS IMPRIMÉS',
    buttonLink: '/services/supports-imprimes',
    description: [
      'papeterie | étiquette | packaging | enseigne | signalétique | marquage véhicule & vitrine | documents professionnels | goodies',
    ],
    number: '01',
    subtitle: 'adaptés à vos besoins.',
    isButton: true,
  },
  {
    title: 'SUPPORT WEB',
    buttonLink: '/services/site-web',
    description: ['site internet vitrine | refonte site internet | maintenance | mise à jour'],
    number: '02',
    subtitle: 'responsive et personnalisé.',
    isButton: true,
  },
  {
    title: 'IDENTITÉ DE MARQUE',
    buttonLink: '/services/identite-visuelle',
    description: ['identité visuelle | logotype | charte graphique | refonte identité visuelle'],
    number: '03',
    subtitle: 'un univers qui vous ressemble.',
    isButton: true,
  },
  {
    title: 'CONTENU DIGITAL',
    buttonLink: '/services/contenu-digital',
    description: ['shooting photos | montage vidéo | création de visuels réseaux sociaux'],
    number: '04',
    subtitle: 'des visuels professionnels.',
    isButton: true,
  },
  {
    title: 'CONSEIL & SUIVI',
    buttonLink: '/services/conseil-suivi',
    description: ['gestion de projet | suivi personnalisé | formation'],
    number: '05',
    subtitle: 'une stratégie efficace.',
    color: '#cc9f5c',

    isButton: true,
  },
];
---

<div class="flex flex-col gap-10 mt-28">
  <SubTitle title="une communication qui fait sens !" />
  <div class="relative flex w-full flex-col items-center">
    <ul
      class="grid mb-28 w-full max-w-[1800px] grid-cols-1 gap-x-40 gap-y-24 md:px-20 px-10 md:grid-cols-2 md:grid-rows-3 xl:grid-cols-3 xl:grid-rows-2"
    >
      {services.map((service) => <OneService {...service} maxWidth="328px" />)}
    </ul>
    <div
      class="bottom-0 right-0 select-none z-10 flex w-full flex-col gap-5 bg-orange p-12 text-right font-larken text-3xl text-background md:absolute md:w-fit md:translate-y-1/3"
    >
      <p class="hover:opacity-75" id="text-orange">CONSEIL</p>
      <p class="hover:opacity-75" id="text-orange">CRÉATIVITÉ</p>
      <p class="hover:opacity-75" id="text-orange">PRÉCISION</p>
      <p class="hover:opacity-75" id="text-orange">DISPONIBILTÉ</p>
      <p class="hover:opacity-75" id="text-orange">PROXIMITÉ</p>
      <p class="hover:opacity-75" id="text-orange">RÉACTIVITÉ</p>
    </div>
  </div>
</div>

<style>
  .text-orange {
    color: #2b2417;
  }
</style>

<script is:inline data-astro-rerun>
  setup();
  function setup() {
    const textOrange = document.querySelectorAll('#text-orange');

    //color first text in orange and then the others in white then after 1s, color the first in white and the second in orange and so on
    let i = 0;
    setInterval(() => {
      textOrange[i].classList.remove('text-orange');
      i++;
      if (i === textOrange.length) {
        i = 0;
      }
      textOrange[i].classList.add('text-orange');
    }, 1000);
  }
</script>
